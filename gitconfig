[user]
    name = Benjamin Bolte
    email = ben@bolte.cc

[alias]
    sync = !git pull && git push
    so = log --oneline
    ss = log --graph --pretty=format:'%C(bold red)%h%Creset %C(bold magenta)%d %Creset%n%C(bold blue)%an%Creset %C(cyan)%s%Creset'
    sl = !git smartlog
    smartlog = log --graph --pretty=format:'commit: %C(bold red)%h%Creset %C(red)<%H>%Creset %C(bold magenta)%d %Creset%ndate: %C(bold yellow)%cd %Creset%C(yellow)%cr%Creset%nauthor: %C(bold blue)    %an%Creset %C(blue)<%ae>%Creset%n%C(cyan)%s%n%Creset'
    unstash = stash pop
    st = status -sb
    su = status -uno
    br = checkout -b
    bd = branch -d
    bD = branch -D
    bl = branch --list
    ci = commit
    co = checkout
    di = diff
    cp = cherry-pick
    wt = worktree
    uncommit = reset HEAD~1
    rh = reset --hard
    # Pushes to upstream repo branch with the same name
    po = "!git push --set-upstream origin \"$(git rev-parse --abbrev-ref HEAD)\""
    # Shows diff of last commit, or last N commits if provided
    last = "!f() { \
        if [[ $# -gt 0 ]]; then \
            n=$1; shift; \
            git diff HEAD~$n $@; \
        else \
            git diff HEAD^ $@; \
        fi }; f"
    # Prunes worktree, then removes branches with some prefix (default "auto")
    wt-clean = "!f() { \
        if [[ $# -gt 0 ]]; then \
            bp=$1; shift; \
        else \
            bp='auto/'; \
        fi; \
        git worktree prune; \
        git branch | grep $bp | xargs git branch -D; \
    }; f"

[pull]
    rebase = true

[core]
    excludesfile = ~/.gitignore_global

[push]
    default = matching

[rerere]
    enabled = true

[branch]
    autoSetupMerge = always

